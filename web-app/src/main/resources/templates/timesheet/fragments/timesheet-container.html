<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">

<div th:fragment="timesheet-container" class="r-timesheet-container">
    <div class="r-timesheet-container">
        <!-- Header Section -->
        <div class="r-timesheet-header" id="r-timesheet-header">
            <div class="r-period-navigation">
                <wa-button size="small" variant="neutral" appearance="outlined" 
                           hx-get="/htmx/timesheet/week"
                           th:hx-vals="|{&quot;weekStart&quot;: &quot;${previousWeek}&quot;}|"
                           hx-target=".r-timesheet-container"
                           hx-swap="outerHTML"
                           class="r-nav-button">
                    <wa-icon name="chevron-left"></wa-icon>
                </wa-button>
                <div class="r-period-info">
                    <div class="r-period-label">Period</div>
                    <div id="r-period-text" class="r-period-text" 
                         th:text="|Week ${weeklyTimesheet.weekNumber} of ${weeklyTimesheet.year}|">Week 30 of 2025</div>
                </div>
                <wa-button size="small" variant="neutral" appearance="outlined" 
                           hx-get="/htmx/timesheet/week"
                           th:hx-vals="|{&quot;weekStart&quot;: &quot;${nextWeek}&quot;}|"
                           hx-target=".r-timesheet-container"
                           hx-swap="outerHTML"
                           class="r-nav-button">
                    <wa-icon name="chevron-right"></wa-icon>
                </wa-button>
            </div>
            
            <div class="r-employee-info">
                <div class="r-employee-label">Employee</div>
                <div class="r-employee-name" th:text="${employeeName}">Alireza API Testuser</div>
            </div>
            
            <!-- Save Section -->
            <div class="r-save-section" th:unless="${weeklyTimesheet.approvalStatus == 'APPROVED'}">
                <wa-button size="small" variant="brand" id="r-save-button" 
                          hx-post="/htmx/timesheet/save"
                          hx-include="#r-timesheet-form"
                          hx-target="#timesheet-main-container"
                          hx-swap="innerHTML"
                          type="button" disabled>
                    <wa-icon name="save" slot="start"></wa-icon>
                    Save
                </wa-button>
                <wa-tag variant="success" size="small" id="r-saved-indicator">
                    <wa-icon name="check"></wa-icon>
                    No changes
                </wa-tag>
            </div>
            
            <!-- Approval Status Section -->
            <div class="r-approval-status-section" th:if="${weeklyTimesheet.approvalStatus == 'APPROVED'}">
                <wa-tag variant="success" size="small">
                    <wa-icon name="check-circle"></wa-icon>
                    Approved Timesheet
                </wa-tag>
            </div>
        </div>

        <!-- Timesheet Main Content -->
        <div id="timesheet-main-container">
            <div th:insert="~{timesheet/fragments/timesheet-main-content}"></div>
        </div>
    </div>
</div>

</html>